{"version":3,"file":"ProfileCertificates-CsC0UrUq.js","sources":["../../../../frontend/src/pages/ProfileCertificates.vue"],"sourcesContent":["<template>\n\t<div class=\"mt-7 mb-10\">\n\t\t<h2 class=\"mb-3 text-lg font-semibold text-gray-900\">\n\t\t\t{{ __('Certificates') }}\n\t\t</h2>\n\t\t<div class=\"grid grod-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n\t\t\t<div\n\t\t\t\tv-for=\"certificate in certificates.data\"\n\t\t\t\t:key=\"certificate.name\"\n\t\t\t\tclass=\"bg-white shadow rounded-lg p-3 cursor-pointer\"\n\t\t\t\t@click=\"openCertificate(certificate)\"\n\t\t\t>\n\t\t\t\t<div class=\"font-medium leading-5\">\n\t\t\t\t\t{{ certificate.course_title }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t<span class=\"text-xs text-gray-700\"> {{ __('issued on') }}: </span>\n\t\t\t\t\t{{ dayjs(certificate.issue_date).format('DD MMM YYYY') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { createResource } from 'frappe-ui'\nimport { inject } from 'vue'\n\nconst dayjs = inject('$dayjs')\nconst props = defineProps({\n\tprofile: {\n\t\ttype: Object,\n\t\trequired: true,\n\t},\n})\n\nconst certificates = createResource({\n\turl: 'lms.lms.api.get_certificates',\n\tparams: {\n\t\tmember: props.profile.data.name,\n\t},\n\tauto: true,\n})\n\nconst openCertificate = (certificate) => {\n\twindow.open(\n\t\t`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${\n\t\t\tcertificate.name\n\t\t}&format=${encodeURIComponent(certificate.template)}`\n\t)\n}\n</script>\n"],"names":["dayjs","inject","certificates","createResource","__props","openCertificate","certificate"],"mappings":"qbA2BA,MAAMA,EAAQC,EAAO,QAAQ,EAQvBC,EAAeC,EAAe,CACnC,IAAK,+BACL,OAAQ,CACP,OAVYC,EAUE,QAAQ,KAAK,IAC3B,EACD,KAAM,EACP,CAAC,EAEKC,EAAmBC,GAAgB,CACxC,OAAO,KACN,mFACCA,EAAY,IACZ,WAAU,mBAAmBA,EAAY,QAAQ,CAAC,EACnD,CACF"}