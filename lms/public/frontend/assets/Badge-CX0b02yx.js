import{d as n,aa as f,ah as b,j as l,k as h,I as a,x as v,y,C as o,J as r,M as x}from"./frappe-ui-CfOnYHud.js";const B={key:0},M={class:"p-5 flex flex-col items-center mt-40"},N={class:"text-3xl font-semibold"},S=["src","alt"],j={class:"text-lg"},k={class:"text-lg mt-2"},Y={__name:"Badge",props:{badgeName:{type:String,required:!0},email:{type:String,required:!0}},setup(i){const m=n("$allUsers"),u=n("$dayjs"),_=f(),t=i,e=b({doctype:"LMS Badge",name:t.badgeName}),g=l(()=>{const s=Object.values(m.data).find(c=>c.name===t.email);return s?s.full_name:t.email}),p=h({url:"frappe.client.get_value",makeParams(s){return{doctype:"LMS Badge Assignment",filters:{member:t.email,badge:t.badgeName},fieldname:"issued_on"}},onSuccess(s){s.issued_on||_.push({name:"Courses"})},auto:!0});return l(()=>[{label:"Badges"},{label:e.doc.title,route:{name:"Badge",params:{badge:e.doc.name}}}]),(s,c)=>{var d;return a(e).doc?(v(),y("div",B,[o("div",M,[o("div",N,r(a(e).doc.title),1),o("img",{src:a(e).doc.image,alt:a(e).doc.title,class:"h-60 mt-2"},null,8,S),o("div",j,r(s.__("This badge has been awarded to {0} on {1}.").format(g.value,a(u)((d=a(p).data)==null?void 0:d.issued_on).format("DD MMM YYYY"))),1),o("div",k,r(a(e).doc.description),1)])])):x("",!0)}}};export{Y as default};
//# sourceMappingURL=Badge-CX0b02yx.js.map
