{"version":3,"file":"Quizzes-heZq5nTi.js","sources":["../../../../frontend/src/pages/Quizzes.vue"],"sourcesContent":["<template>\n\t<header\n\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs :items=\"breadcrumbs\" />\n\t\t<router-link\n\t\t\t:to=\"{\n\t\t\t\tname: 'QuizCreation',\n\t\t\t\tparams: {\n\t\t\t\t\tquizID: 'new',\n\t\t\t\t},\n\t\t\t}\"\n\t\t>\n\t\t\t<Button variant=\"solid\">\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<Plus class=\"w-4 h-4\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('New Quiz') }}\n\t\t\t</Button>\n\t\t</router-link>\n\t</header>\n\t<div v-if=\"quizzes.data?.length\" class=\"w-3/4 mx-auto py-5\">\n\t\t<ListView\n\t\t\t:columns=\"quizColumns\"\n\t\t\t:rows=\"quizzes.data\"\n\t\t\trow-key=\"name\"\n\t\t\t:options=\"{ showTooltip: false, selectable: false }\"\n\t\t>\n\t\t\t<ListHeader\n\t\t\t\tclass=\"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2\"\n\t\t\t>\n\t\t\t\t<ListHeaderItem :item=\"item\" v-for=\"item in quizColumns\">\n\t\t\t\t</ListHeaderItem>\n\t\t\t</ListHeader>\n\t\t\t<ListRows>\n\t\t\t\t<router-link\n\t\t\t\t\tv-for=\"row in quizzes.data\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'QuizCreation',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tquizID: row.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<ListRow :row=\"row\" />\n\t\t\t\t</router-link>\n\t\t\t</ListRows>\n\t\t</ListView>\n\t</div>\n</template>\n<script setup>\nimport {\n\tBreadcrumbs,\n\tcreateListResource,\n\tListView,\n\tListRows,\n\tListRow,\n\tListHeader,\n\tListHeaderItem,\n\tButton,\n} from 'frappe-ui'\nimport { useRouter } from 'vue-router'\nimport { computed, inject, onMounted } from 'vue'\nimport { Plus } from 'lucide-vue-next'\n\nconst user = inject('$user')\nconst router = useRouter()\n\nonMounted(() => {\n\tif (!user.data?.is_moderator && !user.data?.is_instructor) {\n\t\trouter.push({ name: 'Courses' })\n\t}\n})\n\nconst quizFilter = computed(() => {\n\tif (user.data?.is_moderator) return {}\n\treturn {\n\t\towner: user.data?.name,\n\t}\n})\n\nconst quizzes = createListResource({\n\tdoctype: 'LMS Quiz',\n\tfilters: quizFilter,\n\tfields: ['name', 'title', 'passing_percentage', 'total_marks'],\n\tauto: true,\n\tcache: ['quizzes', user.data?.name],\n\torderBy: 'modified desc',\n\tonSuccess(data) {\n\t\tdata.forEach((row) => {})\n\t},\n})\n\nconst quizColumns = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Title'),\n\t\t\tkey: 'title',\n\t\t\twidth: 2,\n\t\t},\n\t\t{\n\t\t\tlabel: __('Total Marks'),\n\t\t\tkey: 'total_marks',\n\t\t\twidth: 1,\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\tlabel: __('Passing Percentage'),\n\t\t\tkey: 'passing_percentage',\n\t\t\twidth: 1,\n\t\t\talign: 'center',\n\t\t},\n\t]\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Quizzes'),\n\t\t\troute: {\n\t\t\t\tname: 'Quizzes',\n\t\t\t},\n\t\t},\n\t]\n})\n</script>\n"],"names":["user","inject","router","useRouter","onMounted","_a","_b","quizFilter","computed","quizzes","createListResource","data","row","quizColumns","breadcrumbs"],"mappings":"ybAiEA,MAAMA,EAAOC,EAAO,OAAO,EACrBC,EAASC,EAAW,EAE1BC,EAAU,IAAM,SACX,GAACC,EAAAL,EAAK,OAAL,MAAAK,EAAW,eAAgB,GAACC,EAAAN,EAAK,OAAL,MAAAM,EAAW,gBAC3CJ,EAAO,KAAK,CAAE,KAAM,SAAS,CAAE,CAEjC,CAAC,EAED,MAAMK,EAAaC,EAAS,IAAM,SACjC,OAAIH,EAAAL,EAAK,OAAL,MAAAK,EAAW,aAAqB,CAAE,EAC/B,CACN,OAAOC,EAAAN,EAAK,OAAL,YAAAM,EAAW,IAClB,CACF,CAAC,EAEKG,EAAUC,EAAmB,CAClC,QAAS,WACT,QAASH,EACT,OAAQ,CAAC,OAAQ,QAAS,qBAAsB,aAAa,EAC7D,KAAM,GACN,MAAO,CAAC,WAAWF,EAAAL,EAAK,OAAL,YAAAK,EAAW,IAAI,EAClC,QAAS,gBACT,UAAUM,EAAM,CACfA,EAAK,QAASC,GAAQ,EAAE,CACxB,CACF,CAAC,EAEKC,EAAcL,EAAS,IACrB,CACN,CACC,MAAO,GAAG,OAAO,EACjB,IAAK,QACL,MAAO,CACP,EACD,CACC,MAAO,GAAG,aAAa,EACvB,IAAK,cACL,MAAO,EACP,MAAO,QACP,EACD,CACC,MAAO,GAAG,oBAAoB,EAC9B,IAAK,qBACL,MAAO,EACP,MAAO,QACP,CACD,CACD,EAEKM,EAAcN,EAAS,IACrB,CACN,CACC,MAAO,GAAG,SAAS,EACnB,MAAO,CACN,KAAM,SACN,CACD,CACD,CACD"}